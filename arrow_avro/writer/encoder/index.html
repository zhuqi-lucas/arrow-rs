<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Encodes `RecordBatch` into the Avro binary format. Avro Encoder for Arrow types."><title>arrow_avro::writer::encoder - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="arrow_avro" data-themes="" data-resource-suffix="" data-rustdoc-version="1.93.0-nightly (843f8ce2e 2025-11-07)" data-channel="nightly" data-search-js="search-8e3fad08.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-263c88ec.css"></noscript><link rel="icon" href="https://arrow.apache.org/img/arrow-logo_chevrons_black-txt_transparent-bg.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module encoder</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../../arrow_avro/index.html"><img src="https://arrow.apache.org/img/arrow-logo_chevrons_black-txt_white-bg.svg" alt="logo"></a><h2><a href="../../../arrow_avro/index.html">arrow_<wbr>avro</a><span class="version">57.0.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module encoder</a></h2><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#functions" title="Functions">Functions</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In arrow_<wbr>avro::<wbr>writer</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">arrow_avro</a>::<wbr><a href="../index.html">writer</a></div><h1>Module <span>encoder</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/arrow_avro/writer/encoder.rs.html#18-3104">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Encodes <code>RecordBatch</code> into the Avro binary format.
Avro Encoder for Arrow types.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.BinaryEncoder.html" title="struct arrow_avro::writer::encoder::BinaryEncoder">Binary<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Unified binary encoder generic over offset size (i32/i64).</dd><dt><a class="struct" href="struct.BinaryViewEncoder.html" title="struct arrow_avro::writer::encoder::BinaryViewEncoder">Binary<wbr>View<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>BinaryView (byte view) encoder.</dd><dt><a class="struct" href="struct.BooleanEncoder.html" title="struct arrow_avro::writer::encoder::BooleanEncoder">Boolean<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="struct" href="struct.DecimalEncoder.html" title="struct arrow_avro::writer::encoder::DecimalEncoder">Decimal<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Generic Avro decimal encoder over Arrow decimal arrays.</dd><dt><a class="struct" href="struct.DurationEncoder.html" title="struct arrow_avro::writer::encoder::DurationEncoder">Duration<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Single generic encoder used for all three interval units.
Writes Avro <code>fixed(12)</code> as three little-endian u32 values in one call.</dd><dt><a class="struct" href="struct.DurationParts.html" title="struct arrow_avro::writer::encoder::DurationParts">Duration<wbr>Parts</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="struct" href="struct.EnumEncoder.html" title="struct arrow_avro::writer::encoder::EnumEncoder">Enum<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Avro <code>enum</code> encoder for Arrow <code>DictionaryArray&lt;Int32, Utf8&gt;</code>.</dd><dt><a class="struct" href="struct.F32Encoder.html" title="struct arrow_avro::writer::encoder::F32Encoder">F32Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="struct" href="struct.F64Encoder.html" title="struct arrow_avro::writer::encoder::F64Encoder">F64Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="struct" href="struct.FieldBinding.html" title="struct arrow_avro::writer::encoder::FieldBinding">Field<wbr>Binding</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="struct" href="struct.FieldEncoder.html" title="struct arrow_avro::writer::encoder::FieldEncoder">Field<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Arrow to Avro FieldEncoder:</dd><dt><a class="struct" href="struct.FixedEncoder.html" title="struct arrow_avro::writer::encoder::FixedEncoder">Fixed<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Avro <code>fixed</code> encoder for Arrow <code>FixedSizeBinaryArray</code>.
Spec: a fixed is encoded as exactly <code>size</code> bytes, with no length prefix.</dd><dt><a class="struct" href="struct.FixedSizeListEncoder.html" title="struct arrow_avro::writer::encoder::FixedSizeListEncoder">Fixed<wbr>Size<wbr>List<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>FixedSizeList encoder.</dd><dt><a class="struct" href="struct.IntEncoder.html" title="struct arrow_avro::writer::encoder::IntEncoder">IntEncoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Generic Avro <code>int</code> encoder for primitive arrays with <code>i32</code> native values.</dd><dt><a class="struct" href="struct.ListEncoder.html" title="struct arrow_avro::writer::encoder::ListEncoder">List<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="struct" href="struct.ListViewEncoder.html" title="struct arrow_avro::writer::encoder::ListViewEncoder">List<wbr>View<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>ListView encoder using <code>(offset, size)</code> buffers.</dd><dt><a class="struct" href="struct.LongEncoder.html" title="struct arrow_avro::writer::encoder::LongEncoder">Long<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Generic Avro <code>long</code> encoder for primitive arrays with <code>i64</code> native values.</dd><dt><a class="struct" href="struct.MapEncoder.html" title="struct arrow_avro::writer::encoder::MapEncoder">MapEncoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="struct" href="struct.RecordEncoder.html" title="struct arrow_avro::writer::encoder::RecordEncoder">Record<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>A pre-computed plan for encoding a <code>RecordBatch</code> to Avro.</dd><dt><a class="struct" href="struct.RecordEncoderBuilder.html" title="struct arrow_avro::writer::encoder::RecordEncoderBuilder">Record<wbr>Encoder<wbr>Builder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Builder for <code>RecordEncoder</code> write plan</dd><dt><a class="struct" href="struct.RunEncodedEncoder.html" title="struct arrow_avro::writer::encoder::RunEncodedEncoder">RunEncoded<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Generic encoder for Arrow <code>RunArray&lt;R&gt;</code>-based sites (run-end encoded).
Follows the pattern used by other generic encoders (i.e., <code>ListEncoder&lt;O&gt;</code>),
avoiding runtime branching on run-end width.</dd><dt><a class="struct" href="struct.StructEncoder.html" title="struct arrow_avro::writer::encoder::StructEncoder">Struct<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="struct" href="struct.Time32SecondsToMillisEncoder.html" title="struct arrow_avro::writer::encoder::Time32SecondsToMillisEncoder">Time32<wbr>Seconds<wbr>ToMillis<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Time32(Second) to Avro time-millis (int), via safe scaling by 1000</dd><dt><a class="struct" href="struct.TimestampSecondsToMillisEncoder.html" title="struct arrow_avro::writer::encoder::TimestampSecondsToMillisEncoder">Timestamp<wbr>Seconds<wbr>ToMillis<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Timestamp(Second) to Avro timestamp-millis (long), via safe scaling by 1000</dd><dt><a class="struct" href="struct.UnionEncoder.html" title="struct arrow_avro::writer::encoder::UnionEncoder">Union<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="struct" href="struct.Utf8GenericEncoder.html" title="struct arrow_avro::writer::encoder::Utf8GenericEncoder">Utf8<wbr>Generic<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="struct" href="struct.Utf8ViewEncoder.html" title="struct arrow_avro::writer::encoder::Utf8ViewEncoder">Utf8<wbr>View<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>StringView encoder.</dd><dt><a class="struct" href="struct.UuidEncoder.html" title="struct arrow_avro::writer::encoder::UuidEncoder">Uuid<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Avro UUID logical type encoder: Arrow FixedSizeBinary(16) to Avro string (UUID).
Spec: uuid is a logical type over string (RFCâ€‘4122). We output hyphenated form.</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.Encoder.html" title="enum arrow_avro::writer::encoder::Encoder">Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="enum" href="enum.FieldPlan.html" title="enum arrow_avro::writer::encoder::FieldPlan">Field<wbr>Plan</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Perâ€‘site encoder plan for a field. This mirrors the Avro structure, so nested
optional branch order can be honored exactly as declared by the schema.</dd><dt><a class="enum" href="enum.KeyKind.html" title="enum arrow_avro::writer::encoder::KeyKind">KeyKind</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Internal key array kind used by Map encoder.</dd><dt><a class="enum" href="enum.NullState.html" title="enum arrow_avro::writer::encoder::NullState">Null<wbr>State</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.DecimalBeBytes.html" title="trait arrow_avro::writer::encoder::DecimalBeBytes">Decimal<wbr>BeBytes</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Minimal trait to obtain a big-endian fixed-size byte array for a decimalâ€™s
unscaled integer value at <code>idx</code>.</dd><dt><a class="trait" href="trait.IntervalToDurationParts.html" title="trait arrow_avro::writer::encoder::IntervalToDurationParts">Interval<wbr>ToDuration<wbr>Parts</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Trait mapping an Arrow interval native value to Avro duration <code>(months, days, millis)</code>.</dd></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.encode_blocked_range.html" title="fn arrow_avro::writer::encoder::encode_blocked_range">encode_<wbr>blocked_<wbr>range</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Encode a blocked range of items with Avro array block framing.</dd><dt><a class="fn" href="fn.find_map_value_field_index.html" title="fn arrow_avro::writer::encoder::find_map_value_field_index">find_<wbr>map_<wbr>value_<wbr>field_<wbr>index</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="fn" href="fn.find_struct_child_index.html" title="fn arrow_avro::writer::encoder::find_struct_child_index">find_<wbr>struct_<wbr>child_<wbr>index</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="fn" href="fn.minimal_twos_complement.html" title="fn arrow_avro::writer::encoder::minimal_twos_complement">minimal_<wbr>twos_<wbr>complement</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Minimal twoâ€™s-complement big-endian representation helper for Avro decimal (bytes).</dd><dt><a class="fn" href="fn.prepare_value_site_encoder.html" title="fn arrow_avro::writer::encoder::prepare_value_site_encoder">prepare_<wbr>value_<wbr>site_<wbr>encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="fn" href="fn.union_value_branch_byte.html" title="fn arrow_avro::writer::encoder::union_value_branch_byte">union_<wbr>value_<wbr>branch_<wbr>byte</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="fn" href="fn.write_bool.html" title="fn arrow_avro::writer::encoder::write_bool">write_<wbr>bool</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="fn" href="fn.write_int.html" title="fn arrow_avro::writer::encoder::write_int">write_<wbr>int</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="fn" href="fn.write_len_prefixed.html" title="fn arrow_avro::writer::encoder::write_len_prefixed">write_<wbr>len_<wbr>prefixed</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="fn" href="fn.write_long.html" title="fn arrow_avro::writer::encoder::write_long">write_<wbr>long</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Encode a single Avro-<code>long</code> using ZigZag + variable length, buffered.</dd><dt><a class="fn" href="fn.write_optional_index.html" title="fn arrow_avro::writer::encoder::write_optional_index">write_<wbr>optional_<wbr>index</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Write the union branch index for an optional field.</dd><dt><a class="fn" href="fn.write_sign_extended.html" title="fn arrow_avro::writer::encoder::write_sign_extended">write_<wbr>sign_<wbr>extended</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Sign-extend (or validate/truncate) big-endian integer bytes to exactly <code>n</code> bytes.</dd></dl><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="type" href="type.Decimal32Encoder.html" title="type arrow_avro::writer::encoder::Decimal32Encoder">Decimal32<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="type" href="type.Decimal64Encoder.html" title="type arrow_avro::writer::encoder::Decimal64Encoder">Decimal64<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="type" href="type.Decimal128Encoder.html" title="type arrow_avro::writer::encoder::Decimal128Encoder">Decimal128<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="type" href="type.Decimal256Encoder.html" title="type arrow_avro::writer::encoder::Decimal256Encoder">Decimal256<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="type" href="type.ListEncoder32.html" title="type arrow_avro::writer::encoder::ListEncoder32">List<wbr>Encoder32</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="type" href="type.ListEncoder64.html" title="type arrow_avro::writer::encoder::ListEncoder64">List<wbr>Encoder64</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="type" href="type.ListViewEncoder32.html" title="type arrow_avro::writer::encoder::ListViewEncoder32">List<wbr>View<wbr>Encoder32</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="type" href="type.ListViewEncoder64.html" title="type arrow_avro::writer::encoder::ListViewEncoder64">List<wbr>View<wbr>Encoder64</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="type" href="type.RunEncodedEncoder16.html" title="type arrow_avro::writer::encoder::RunEncodedEncoder16">RunEncoded<wbr>Encoder16</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="type" href="type.RunEncodedEncoder32.html" title="type arrow_avro::writer::encoder::RunEncodedEncoder32">RunEncoded<wbr>Encoder32</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="type" href="type.RunEncodedEncoder64.html" title="type arrow_avro::writer::encoder::RunEncodedEncoder64">RunEncoded<wbr>Encoder64</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="type" href="type.Utf8Encoder.html" title="type arrow_avro::writer::encoder::Utf8Encoder">Utf8<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="type" href="type.Utf8LargeEncoder.html" title="type arrow_avro::writer::encoder::Utf8LargeEncoder">Utf8<wbr>Large<wbr>Encoder</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt></dl></section></div></main></body></html>